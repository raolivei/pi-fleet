# =============================================================================
# Terraform Variables for Cloudflare Infrastructure
# =============================================================================
# NOTE: k3s installation is handled by Ansible (ansible/playbooks/install-k3s.yml)
# Terraform is used only for Cloudflare DNS and Tunnel infrastructure
#
# Copy this file to terraform.tfvars and fill in your values
# cp terraform.tfvars.example terraform.tfvars

# =============================================================================
# Cloudflare DNS Configuration
# =============================================================================
# Cloudflare API token for DNS management
# Should be stored in Vault at secret/pi-fleet/terraform/cloudflare-api-token
# Can be read from Vault or set directly here (not recommended for production)
# cloudflare_api_token = "your-cloudflare-api-token-here"

# Cloudflare Zone ID for eldertree.xyz
# Obtained after adding domain to Cloudflare account (Add Site)
# Find in Cloudflare dashboard: Zone Settings > Overview > Zone ID
# cloudflare_zone_id = "your-zone-id-here"

# Public IP address for DNS A records (root and wildcard)
# May need dynamic DNS solution or router port forwarding configuration
# public_ip = "your-public-ip-address-here"

# Cloudflare Account ID (required for tunnels)
# Found in Cloudflare Dashboard → Right sidebar → Account ID
# Or via API: curl -X GET "https://api.cloudflare.com/client/v4/accounts" -H "Authorization: Bearer YOUR_API_TOKEN"
# cloudflare_account_id = "your-account-id-here"

# Cloudflare Zone ID for pitanga.cloud
# Obtained after adding domain to Cloudflare account (Add Site)
# Find in Cloudflare dashboard: Zone Settings > Overview > Zone ID
# Or use: ./scripts/get-pitanga-zone-id.sh
# cloudflare_pitanga_cloud_zone_id = "your-pitanga-cloud-zone-id-here"

# =============================================================================
# Vault Configuration
# =============================================================================
# Vault is used for secrets management in the eldertree cluster.
# These variables configure Terraform's Vault provider to manage policies,
# auth methods, and secrets engines declaratively.
#
# Prerequisites:
# 1. Vault must be deployed and unsealed in the cluster
# 2. For local development: kubectl port-forward vault-0 8200:8200 -n vault
#
# Get the token:
#   kubectl get secret vault-token -n external-secrets -o jsonpath='{.data.token}' | base64 -d

# Vault server address
# Use http://127.0.0.1:8200 with port-forward for local development
# vault_address = "http://127.0.0.1:8200"

# Vault authentication token (sensitive - do not commit!)
# Best practice: Use environment variable TF_VAR_vault_token
# vault_token = ""# Skip TLS verification (set to true for self-signed certificates)
# vault_skip_tls_verify = true

# Skip Vault resource management (useful in CI where Vault is not accessible)
# skip_vault_resources = false

# Kubernetes API server URL for Vault auth method
# Use https://kubernetes.default.svc when running in-cluster
# kubernetes_host = "https://kubernetes.default.svc"