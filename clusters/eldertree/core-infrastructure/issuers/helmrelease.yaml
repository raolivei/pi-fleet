apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: cert-manager-issuers
  namespace: flux-system
spec:
  interval: 10m
  dependsOn:
    - name: cert-manager
      namespace: cert-manager
  chart:
    spec:
      chart: ./helm/cert-manager-issuers
      version: "0.1.0"
      sourceRef:
        kind: GitRepository
        name: flux-system
        namespace: flux-system
  install:
    createNamespace: false
  upgrade:
    cleanupOnFail: true
  values:
    selfSigned:
      enabled: true
      name: selfsigned-cluster-issuer
    # CA issuer for .eldertree.local domains (trusted certificates)
    # CA certificate and key are generated by scripts/certificates/generate-ca.sh
    ca:
      enabled: true
      name: ca-cluster-issuer
      secretName: ca-key-pair
      certificate: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUYrRENDQStDZ0F3SUJBZ0lVVkRTc0poaDh4dUFoZlVlSEYvb2FvMmdrZnFNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1RURWJNQmtHQTFVRUF3d1NSV3hrWlhKMGNtVmxJRXh2WTJGc0lFTkJNUkl3RUFZRFZRUUtEQWxGYkdSbApjblJ5WldVeEdqQVlCZ05WQkFzTUVVeHZZMkZzSUVSbGRtVnNiM0J0Wlc1ME1CNFhEVEkxTVRJek1EQXpOVE0wCk9Wb1hEVE0xTVRJeU9EQXpOVE0wT1Zvd1RURWJNQmtHQTFVRUF3d1NSV3hrWlhKMGNtVmxJRXh2WTJGc0lFTkIKTVJJd0VBWURWUVFLREFsRmJHUmxjblJ5WldVeEdqQVlCZ05WQkFzTUVVeHZZMkZzSUVSbGRtVnNiM0J0Wlc1MApNSUlDSWpBTkJna3Foa2lHOXcwQkFRRUZBQU9DQWc4QU1JSUNDZ0tDQWdFQTRGNkx6VFc3NjhmcnVDQVM1bFlDCis1UHZjNWRhUzg0RldkNmxMSUtRenFQbWt6WHV0V3hvQUpnQXVqdjgwMGhvOEIzS1loUnJCUWxQSlI4bjBqWU8KWHkzU01pRHlmTlBFZmhndWtnNitiRXo3VzNpOVlpUmtwSUFFRlJpeXNEZm4xS21lc1U5RU5MbUNTTXd6S0UvbQpHSk5POXBjeXhCRWFmMFcvc2dVV2h2U3lnbk40KzZ4SUxrUXRZb1hJUVM1UVN3eHdEUlRRWXJxazl4Yko4eTg5CjVlR3pYTmZNby9rVlV4cmRJRDUvRUE2R2dtMHcxQ0Rqek1tR2J0T21lS2F6T2N4YlhhelRWUjJGNUhFaDhHcTYKdm82QVBiMEh2VUpyS0tjelpBRUdJQllkNFl5eHJBQ0FWU0YwV0U3cWltaW1xUHFwdUVUa1dxUW5pNTRvVlMwZgppZGNUWUlEeXJiaXVMcWo1R255NVpjb05yTWd6djdLN1hybUYwbWNSWWxmdnlERVJoQXdzK2Z6NVJMNmJ0UEFjCnZMOXdrVDJiK1hFZDFWTC9ET1hnaHA1eHQ0dHNxSEJhbU9DVWtENkQ1SFdua1A1WDVrTHU5UEk1TlphRmQ1L3kKSCs1WG1zeitYWFRscUI2bmdNaWZoM2JKaG1sNUN5bkFKdW5iVG1FTEx2M0h3NDBqZkR3TEpia2I4aHdHamh5aQpNaE5qK3Zzb1BpaWNSVTdmVUZXZ0JlTENlRzUrYkhyWEtHWTZhbUI5Qk5Pb1lDa3VrbFJiT2xKMkRGNUIxdE9aCmRkS2NXMDJwWjdtek9ETDdtUHFhU1Jqck5PV0xmSzU1OFAvQ3ovYXMwaWRTYTM0eHcxT1c4dUV6a2hWM0tEV2MKL2VlYmdBZmtveU1zazM4OEFrbmZueU1DQXdFQUFhT0J6ekNCekRBUEJnTlZIUk1CQWY4RUJUQURBUUgvTUE0RwpBMVVkRHdFQi93UUVBd0lCQmpBZEJnTlZIUTRFRmdRVTJ1TTRYMnJ5TlhmYXJlQjcvOXlua0Z3WVVqUXdnWWtHCkExVWRJd1NCZ1RCL2dCVGE0emhmYXZJMWQ5cXQ0SHYvM0tlUVhCaFNOS0ZScEU4d1RURWJNQmtHQTFVRUF3d1MKUld4a1pYSjBjbVZsSUV4dlkyRnNJRU5CTVJJd0VBWURWUVFLREFsRmJHUmxjblJ5WldVeEdqQVlCZ05WQkFzTQpFVXh2WTJGc0lFUmxkbVZzYjNCdFpXNTBnaFJVTkt3bUdIekc0Q0Y5UjRjWCtocWphQ1Irb3pBTkJna3Foa2lHCjl3MEJBUXNGQUFPQ0FnRUFSSlJyc1ZXYk9LVlVkVkF0dld2cm1qK1FMM3ZFcEZZb1pUTlpWbC9weXJCM0hpazQKdTM0VS83TlBEUGtnVDhxdFNjM0VMU1pnUVZjY29meTJHc2pjSGRLWUpXbVRIeWhHd053TitBTXAzYTE0RWFTRAptR1Zqd2ZtRHlaQ2ZISHNGeWJZdC9seDk4Y1JXWXZzcTRKVUFYNGx4WDAvT00wcmpxalNkb2tVV01pN2xTaVpxCkp1aXU5MGxSOHB3MnRxLzJuZ2RJM05pdGw1ZXpUdVByaVZXUUgrVkw0U2pNdmErZERqUWJZcVg1REZSS0RXZjcKQ0RBMkFLTmxpMS9qNmZhVjZHNWlESDBGTUtXVjZaNjFvSERrWXRSeGRIV1M1dFdQc1FKd1FLTnlpOHN0WUVTaAozRUgrZWF1MU5NZXJQaFRFYkF5Z3pVdzJ6UmYzY0RnbFg2aitoQlRhYUJRYjI5RjBpaDVRTXZJNzk4a3ZMUjRKCno0S3FHZWZCWkdJYUZUK1gwNDFWdmxpNlpjMkJjdndzaFRFNExCTFZXQ2ZaMkJ5QWl5ZTFOaVpjbGsrUGZOUUEKU3dmQk5mMlhmV0FUczNXUzNiMURZS25vNGxrcGRwd3NxMWtQSGk0YlUzU3g3Y2NjZGlLWE9UUGxUbWNKNmlQKwpBUXI0cHJYcnZHUDZDbkh5bnZId1IwREk2aEI4TzV5bWl0MVRvMGlNNjFoeUl6dFZKMVVaRWF6eDRWTnFoaTl3Cm5ydDRjUGlidFlWaTRTQlMydWY2Y3VObUNhTlhGYk9BU2t3WVl5VENXMnRxZzdwU2pESTNvaTFSUEhGRXFJUG0KY2Z1MFM0U0xGODMwcXFYQm9vWkNPaGh0Z29rZFladnR3UVFBQU5zdHl3NmplMGlwRjNvOTAwSnJzcFU9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
      privateKey: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUpRUUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQ1Nzd2dna25BZ0VBQW9JQ0FRRGdYb3ZOTmJ2cngrdTQKSUJMbVZnTDdrKzl6bDFwTHpnVlozcVVzZ3BET28rYVROZTYxYkdnQW1BQzZPL3pUU0dqd0hjcGlGR3NGQ1U4bApIeWZTTmc1ZkxkSXlJUEo4MDhSK0dDNlNEcjVzVFB0YmVMMWlKR1NrZ0FRVkdMS3dOK2ZVcVo2eFQwUTB1WUpJCnpETW9UK1lZazA3Mmx6TEVFUnAvUmIreUJSYUc5TEtDYzNqN3JFZ3VSQzFpaGNoQkxsQkxESEFORk5CaXVxVDMKRnNuekx6M2w0Yk5jMTh5aitSVlRHdDBnUG44UURvYUNiVERVSU9QTXlZWnUwNlo0cHJNNXpGdGRyTk5WSFlYawpjU0h3YXJxK2pvQTl2UWU5UW1zb3B6TmtBUVlnRmgzaGpMR3NBSUJWSVhSWVR1cUthS2FvK3FtNFJPUmFwQ2VMCm5paFZMUitKMXhOZ2dQS3R1SzR1cVBrYWZMbGx5ZzJzeURPL3NydGV1WVhTWnhGaVYrL0lNUkdFREN6NS9QbEUKdnB1MDhCeTh2M0NSUFp2NWNSM1ZVdjhNNWVDR25uRzNpMnlvY0ZxWTRKU1FQb1BrZGFlUS9sZm1RdTcwOGprMQpsb1Yzbi9JZjdsZWF6UDVkZE9Xb0hxZUF5SitIZHNtR2FYa0xLY0FtNmR0T1lRc3UvY2ZEalNOOFBBc2x1UnZ5CkhBYU9IS0l5RTJQNit5ZytLSnhGVHQ5UVZhQUY0c0o0Ym41c2V0Y29aanBxWUgwRTA2aGdLUzZTVkZzNlVuWU0KWGtIVzA1bDEwcHhiVGFsbnViTTRNdnVZK3BwSkdPczA1WXQ4cm5udy84TFA5cXpTSjFKcmZqSERVNWJ5NFRPUwpGWGNvTlp6OTU1dUFCK1NqSXl5VGZ6d0NTZCtmSXdJREFRQUJBb0lCL3dGdk5TRlRMRWlKU0pubGlySThNZjBvCmovMkx6TmtUWkR0VU9EZTUrSmpLZnBZNnNWZnFFU2tYa0JTUE9vbkpaTVc3Uk4wVUd2ODR4aE45MVkrcGI4UHkKeEVNUUtvTVBnQk1WRGlKK1UzTmR6Sno4eFQzMEJ5WmFXaElYOWJ0bGdlUFVtU0djSkg1ckNqemZaQU54Q3ovOQpLNG1oU1VHelF6eDUrNlB0cllxclc2MUZXbk1qUFJaNUt2ODVDRURNOVloWEx2ODE2bWhIMzNOdSs4MDU5UFlVCnc2aWp5NkRMRXJHcWxpQlA4QnZZU0VCSTFwaVJUY0lpQUltRkpTWlhLNjViZGZkS1RiTlpiZDBpUURLMk10TGoKcUo2NVBtZE1hbC9KRGhZdkJvWHVZMjhKdkdWZmZ0T0lodjhIOFc1Z1pqM2hNd1oxeWJJSXFpSEwzUk9RSGFSSQoxc0JZZllqbGFjcDZiam1rNk90ZzFINUs0SUh5VjkrcE0vVGZCWmVLQlNEb2NCeDVSOVREUDFBTmhRR0ZRNExGCnd0MVdGamRHa1l2cFdtRjdhdkVkK0hIUkF2eVNrMTJLQloxTllmMno3R2tJakJFRXp2RmpNZVhzNVcram1iMkUKYmVGUlRkOXpIekR6aEs4SXk3MFR3QTBDWkRhTEdtcHhiWE5rMWZxUlptb2lSbjE0QUlkWU1YeTZOQ0pkTytRQwp2TFFQVThUTGVpTk1kT2t0Q2lvV3FTQVpEK1VidVVGeHJvYytMZjdxUFpOK0ZsM3hoaGtueGFCZlNndmJpeTFUCjNHelpBM1ZvanJ1SzNUL3BlMjRhWnhWSWRhblNOb2ZKa0lvT0lTMThuMks5dEdIbkNybzh2aUZEMlJRRFdoSGoKa2pUbmFVN3BZeU9zYlkxaEZjMENnZ0VCQVBVMXJlMkdTYVA1c0c2blg5N0NISGZseEtGdC9uUXk0bXZJZytscQp0U2dLTytoT2czR2h2Z0JEWk1TMVR2ZlpCWm8xN2tvdVVqeFBpaFRhei9MR0RVTG15RWdvMGdVWXR1ckJFZXE5CnN6WjQ4R3IrWmdXczJBTHBjS3ExOWloY3l2UXdYdjNqU05RODVNVC8weCtkRVdHZUlBekUzaldlOG90OFRiMG4KNHNUb2FydTdoUEViZThKZnFhNEVHeXJYd3pvUEplY3l2UzZhMG1vUitxb3F1d1BzVlFRdXJmblNoSjUyRjY5NQp3QldVOFlDejYyUTRKSE1pbTZRNmloVFBJZTd3azczL05Lb21Sb01JbnhPOE5PbEpzTExDUUlKSXRoRjE1NWc2CjZvRC9hZnM3SlFGZ2I0UW1aSlNURDV5c3dkNk4wK2RwaDVaM3pBS2pPK2Fua3UwQ2dnRUJBT28rR041UCtmWDYKVSsvWEVvSUw4QTM3MzZ2QmtCUklTeEdwZVUwT2theTE4ZVp3VmROTWZaa0JoVS9qQ2JiRTRKbUcxTXhtZGMwTQpIRk14U3BjN1FXUmxIVGdpQ09GR3V4M0wrM2F5RDNSalh2Rnlyei9VK2Uyckc0UnhqOXk0dDUwV1BnSHdMUWx4CnNLSFBTWjBsQVhJL3M4Nm90SG5NUkhMOWRBSjQ2aFR1dEtsKzFQN3NMVkZXMlBlK3Q0TkFjV00zdVJVQlFUSEsKNFVOT3o3M2hWTzZLNTRzcWZJRnBHazNxcGw5cnlLTFVzaWhuMHkzcEVhWG1SRSszUW1oV0p1K3ZlYnUrU25HVApEN1d3Wmo1NjVza1B5N1FjNldUdkVSakI1RFAvd1lacDNJeWpMMU5jZUxvZ0FRL0RUTzh1RUlzTFdSTGc5YWIxCnFnNzVsVjQ5YUU4Q2dnRUFTc1ZqazlvdSttRlkrMlR1UnU3SjM0V2d2OWpham5RMXRzZ2Q4VDhvbmwwQWg0WHAKYnV6ekV3RjU2TUdnb3RMNmNsdWZuZDhpRkdIc3FROVArYWVLdzZ1N3hzVXJ4WUlUeE9HNnBPblRpL2kwMXV0YwpFTDd6MzI5dmU1Nmd3UTRLbFF0cTYrQXloUVZNZlFYRlN3NktEa281VzZ0c1ZzMXhDRGVQUE82OHAyNTNuV2RBCjBvU2U2RlpqVnp6SlMvY2ZBTVU5dVpJdlBkYlg4cUFvMzFySVRCbjBrcUhwU3hSMmZCdG1mWXVTbHdJajRpcjYKekVTU1dNbGt6RjlOVzZzTm5kNmVMb0Z6ZmE3T01ZYWZlMVVZalVwN0p3YzB4SVdIZnl1RXcxYXp5MElXL3hTNQo1QUdULzZmMVk1aTBXZ0lUMjlsRGxIMEphMGg4WFJHSllud1d3UUtDQVFCTGRIdGdTWlQwWnBIWlJZZWh1cVMyCmJIZE5oWW1hN3ZxM2tzY1BTbTBrbkd0eTFxYmU3Tm5jaXIvZHp2M1hFUzVrWmlsd09tVWlDdytvd00wTlVEb3QKVStFSXJ2WDdVMlI5SWJNOE5mbUNmV3dkRE50bERYOEF6MGlLN21Yd0xOU0ExcVJjelhoRWZZbnZaYTJKNEZ6Sgo1N2xORGMwdEd0N0Z4OTB4MnE5VTFOdi9hV3JGUDJFTnZaTWdveC9NT05zTm9lcU4ySnllcElMUndyWnFyUVpGCjNScmZHbTJHNWt0aDQvOTU1MmQzQkZyclp4NkF3SDQ5MmFJUnA2L05ta3JxbExUN0JENUl2WjJtNGs3ZE80dlMKSXJOMHJvZUVTdnBQNWsxVGJzUnhQdktibndsa3Fmbjl3c2QwdzIycDhrWEQ5SURaOHZ0T3IvMzYydTBCc1hoRApBb0lCQVFERkVHb1huNnNtbm0zOFh6UUo1NEQ5cDFYODF3cEZYeTB0STl6YmNHZkh1OEUrZlF1Y0dKS3FKU2V3CnYvZDM2QTAwRDAwSXZrVS92M2VlaWMyam5MaExsdm9SdU84MzVnTU9qcWFIT1lKRndMcjJheXE4RGRiZkZTTG8KVWtsU0tUcEt4K01TazZsdGtJdW9aV3FnejkzdW41SHhmd3ptNWNaN3pNSDVUMGIvT1JDMC9leFYzV1BRMGtnWAo4VEJSTnV6RGkvTGh3TkhYVDhMdXdjS1JKQUZPUzVEZzhMZFJZU0MyQk1XVmpiNFJBLy9GeE9PWjZtWGljQnh1CnducVJXVytjTVN2TjBhbkVYdTRSSEJ0SXBJMFpPckRmUFdTOWVjZWdsUWQvekNVMU8vcjZQWHRLZkdOY1FwbzkKdXY0M2xPODhyaE8xUzhGdmJXOGVGSDZRME5qTwotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
    acme:
      enabled: true
      email: "your-email@example.com"  # TODO: Update with your email address
      server: https://acme-v02.api.letsencrypt.org/directory
      name: letsencrypt-prod
